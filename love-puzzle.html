<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Heart Maze ‚ù§Ô∏è</title>
<style>
body {
    margin:0;
    font-family:'Segoe UI',sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background: linear-gradient(135deg,#ffe0eb,#fff0f5);
    flex-direction:column;
}
h2{
    font-family:'Pacifico', cursive;
    color:#ff4d6d;
    text-align:center;
    margin-bottom:20px;
}
canvas{
    border:3px solid #ff4d6d;
    border-radius:15px;
    background: #fff0f5;
}
.popup{
    position:fixed;
    inset:0;
    background: rgba(0,0,0,0.6);
    display:flex;
    justify-content:center;
    align-items:center;
    display:none;
    z-index:1000;
}
.popup-box{
    background:white;
    padding:30px;
    border-radius:15px;
    text-align:center;
    max-width:400px;
    font-family:'Pacifico', cursive;
    color:#ff4d6d;
    font-size:1.2rem;
}
button{
    padding:10px 25px;
    border:none;
    border-radius:20px;
    background:#ff4d6d;
    color:white;
    cursor:pointer;
    margin-top:15px;
    font-size:1rem;
}
</style>
</head>
<body>

<h2>Heart Maze ‚ù§Ô∏è</h2>
<canvas id="mazeCanvas" width="450" height="450"></canvas>

<div id="popup" class="popup">
    <div class="popup-box">
        ‚ù§Ô∏è You found my heart üíñ
        <br>
        <button onclick="restartMaze()">Play Again</button>
    </div>
</div>

<script>
const canvas = document.getElementById("mazeCanvas");
const ctx = canvas.getContext("2d");

const rows = 15;
const cols = 15;
const cellSize = canvas.width / cols;

let player = {x:0, y:0};
const goal = {x:cols-1, y:rows-1};

// 0 = path, 1 = wall
const maze = [
[0,1,1,0,0,0,1,0,1,0,0,1,0,0,0],
[0,0,1,0,1,0,1,0,1,1,0,1,0,1,0],
[1,0,0,0,1,0,0,0,0,1,0,0,0,1,0],
[1,1,1,0,1,1,1,1,0,1,0,1,1,0,0],
[0,0,0,0,0,0,0,1,0,0,0,0,1,0,1],
[0,1,1,1,1,1,0,1,1,1,1,0,1,0,0],
[0,1,0,0,0,0,0,0,0,0,1,0,1,1,0],
[0,1,0,1,1,1,1,1,0,1,0,0,0,1,0],
[0,0,0,0,0,0,1,0,0,1,1,1,0,0,0],
[1,1,1,1,0,0,1,0,1,1,0,1,1,1,0],
[0,0,0,1,0,1,0,0,0,1,0,0,0,0,0],
[0,1,0,1,0,1,1,1,0,1,1,1,1,1,0],
[0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],
[0,1,1,1,1,1,0,1,1,1,1,0,1,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
];

function drawMaze(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let r=0;r<rows;r++){
        for(let c=0;c<cols;c++){
            ctx.fillStyle = maze[r][c]===1 ? "#ff4d6d" : "#fff0f5";
            ctx.fillRect(c*cellSize, r*cellSize, cellSize, cellSize);
            ctx.strokeStyle="#ffccd5";
            ctx.strokeRect(c*cellSize, r*cellSize, cellSize, cellSize);
        }
    }
    // Goal
    ctx.fillStyle="#ffd6e0";
    ctx.fillRect(goal.x*cellSize, goal.y*cellSize, cellSize, cellSize);

    // Player
    ctx.font = `${cellSize*0.8}px Arial`;
    ctx.textAlign="center";
    ctx.textBaseline="middle";
    ctx.fillStyle="#ff4d6d";
    ctx.fillText("‚ù§Ô∏è", player.x*cellSize+cellSize/2, player.y*cellSize+cellSize/2);
}

drawMaze();

// Movement
document.addEventListener("keydown",(e)=>{
    let nx=player.x;
    let ny=player.y;
    if(e.key==="ArrowUp") ny--;
    else if(e.key==="ArrowDown") ny++;
    else if(e.key==="ArrowLeft") nx--;
    else if(e.key==="ArrowRight") nx++;

    if(nx>=0 && nx<cols && ny>=0 && ny<rows && maze[ny][nx]===0){
        player.x=nx;
        player.y=ny;
        drawMaze();
        checkWin();
    }
});

function checkWin(){
    if(player.x===goal.x && player.y===goal.y){
        document.getElementById("popup").style.display="flex";
    }
}

function restartMaze(){
    player={x:0,y:0};
    document.getElementById("popup").style.display="none";
    drawMaze();
}
</script>

</body>
</html>
